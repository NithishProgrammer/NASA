<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NASA Space - By Nithish</title>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/split-type"></script>
    <script src="https://unpkg.com/lenis@1.1.8/dist/lenis.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" integrity="sha512-onMTRKJBKz8M1TnqqDuGBlowlH0ohFzMXYRNebz+yOcc5TQr/zAKsthzhuv0hiyUKEiQEQXEynnXCvNTOk50dg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <div class="container">
        <h1 style="color: white;" id="TExt">NASA Space</h1>
        <p style="color: rgb(185, 184, 184);">By Nithish S, authenticated</p>
        <input type="text" id="search-input" placeholder="Search for images..." class="seam-search">
        <button id="search-button" class="buttons">Search</button>
        <button id="track-button"  class="buttons">Track</button>
        <button id="live-button"  class="buttons">Live View</button>
        <div id="results" class="results"></div>
    </div>

    <style>
body {
    font-family: Arial, sans-serif;
    text-align: center;
    background: rgb(29, 29, 29);
    padding: 0;
    overflow-x: hidden;
    overflow-y: hidden;

}

.container {
    max-width: 100%;
    margin: 50px auto;
    background-image: url(https://i0.wp.com/images.squarespace-cdn.com/content/v1/62fbfbed423b4f1bb8caed31/40981286-6f59-4fe5-a3a6-85abf10d94db/v2-5j5rs-rhlnf.jpg?ssl=1);
    margin: 0;
    background-repeat: repeat-y;
   background-size: 100%;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    

    
}

@media screen and (max-width:600px) {

    .container{
        background-image: url(https://images.pexels.com/photos/2098427/pexels-photo-2098427.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1);
        background-size: 100%;
        background-blend-mode: screen;
    }
    
}

@media screen and (max-width: 1024px) {

    ::-webkit-scrollbar {

        display: none;
        

}
    
}

::-webkit-scrollbar {
width: 20px;
border-radius: 10px;
border: solid 1px lightgray;
}

::-webkit-scrollbar-thumb {
  background: rgb(224, 224, 224); 
  border-radius: 10px;
}




img {
    max-width: 100%;
    height: auto;
    margin-bottom: 20px;
    padding: 10px;
    border-radius: 16px;
    overflow-x: hidden;
}

#results img {
    margin: 10px;
    cursor: pointer;
    object-fit: cover;
}

input, button {
    padding: 10px;
    margin: 10px;
    font-size: 16px;
}

h2 {
    margin-top: 30px;
    color: white;
}

.buttons{

  border: solid 1px lightgrey;
  border-radius: 12px;
  padding-left: 15px;
  padding-right: 15px;
  cursor: pointer;
}

#search-input{

  border-radius: 18px;
  border: solid 1px lightgrey;
}

#results{

  height: 900px;
  overflow: scroll;
  scroll-behavior: smooth;
  color: white;
  overflow-x: hidden;
}



    </style>
    <script>

document.addEventListener("DOMContentLoaded", function() {
    const API_KEY = '6j2ZUe0vcCbFriDp9T2TVQlhHYMYrmYwEMpJBSCA';
    const SEARCH_URL = 'https://images-api.nasa.gov/search';
    const APOD_URL = `https://api.nasa.gov/planetary/apod?api_key=${API_KEY}`;
    const EPIC_URL = `https://api.nasa.gov/EPIC/api/natural?api_key=${API_KEY}`;
    const NEO_URL = `https://api.nasa.gov/neo/rest/v1/feed?api_key=${API_KEY}`;

    document.getElementById('search-button').addEventListener('click', function() {
        const query = document.getElementById('search-input').value;
        if (query.trim() === '') {
            alert('Please enter a search term');
            return;
        }

        fetch(`${SEARCH_URL}?q=${query}&media_type=image`)
            .then(response => response.json())
            .then(data => {
                const resultsDiv = document.getElementById('results');
                resultsDiv.innerHTML = '';
                if (data.collection.items.length === 0) {
                    resultsDiv.innerHTML = '<p>No results found</p>';
                    return;
                }

                data.collection.items.forEach(item => {
                    const img = document.createElement('img');
                    img.src = item.links[0].href;
                    img.alt = item.data[0].title;
                    img.title = item.data[0].title;
                    resultsDiv.appendChild(img);
                });
            })
            .catch(error => console.error('Error fetching data:', error));
    });

    document.getElementById('track-button').addEventListener('click', function() {
        const resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = '';

        // Fetch Astronomy Picture of the Day
        fetch(APOD_URL)
            .then(response => response.json())
            .then(data => {
                const apodContainer = document.createElement('div');
                apodContainer.innerHTML = `
                    <h2>Astronomy Picture of the Day</h2>
                    <h3>${data.title}</h3>
                    <img src="${data.url}" alt="${data.title}">
                    <p>${data.explanation}</p>
                `;
                resultsDiv.appendChild(apodContainer);
            })
            .catch(error => console.error('Error fetching APOD:', error));

        // Fetch EPIC images
        fetch(EPIC_URL)
            .then(response => response.json())
            .then(data => {
                const epicContainer = document.createElement('div');
                epicContainer.innerHTML = '<h2>EPIC Images</h2>';
                data.slice(0, 5).forEach(item => {
                    const date = item.date.split(' ')[0].replace(/-/g, '/');
                    const imgSrc = `https://epic.gsfc.nasa.gov/archive/natural/${date}/png/${item.image}.png`;
                    epicContainer.innerHTML += `
                        <img src="${imgSrc}" alt="${item.caption}" title="${item.caption}">
                    `;
                });
                resultsDiv.appendChild(epicContainer);
            })
            .catch(error => console.error('Error fetching EPIC images:', error));

        // Fetch NeoWs data
        fetch(NEO_URL)
            .then(response => response.json())
            .then(data => {
                const neoContainer = document.createElement('div');
                neoContainer.innerHTML = '<h2>Near Earth Objects (NEOs)</h2>';
                Object.keys(data.near_earth_objects).forEach(date => {
                    data.near_earth_objects[date].forEach(neo => {
                        neoContainer.innerHTML += `
                            <div>
                                <h3>${neo.name}</h3>
                                <p>Date: ${date}</p>
                                <p>Estimated Diameter: ${neo.estimated_diameter.kilometers.estimated_diameter_min.toFixed(2)} - ${neo.estimated_diameter.kilometers.estimated_diameter_max.toFixed(2)} km</p>
                                <p>Potentially Hazardous: ${neo.is_potentially_hazardous_asteroid ? 'Yes' : 'No'}</p>
                            </div>
                        `;
                    });
                });
                resultsDiv.appendChild(neoContainer);
            })
            .catch(error => console.error('Error fetching NEO data:', error));
    });

    document.getElementById('live-button').addEventListener('click', function() {
        const resultsDiv = document.getElementById('results');
        resultsDiv.innerHTML = '';

        // Embed NASA's HDEV live stream
        const liveContainer = document.createElement('div');
        liveContainer.innerHTML = `
            <h2>Live View of Earth from ISS</h2>
            <iframe src="https://www.youtube.com/embed/86YLFOog4GM" width="560" height="315" frameborder="0" allowfullscreen></iframe>
        `;
        resultsDiv.appendChild(liveContainer);
    });
});





    </script>
    <div class="verify">

    <p style="color: white;" >NASA &nbsp; API can also be wrong sometimes. So, Check once</p>
</div>


    <script>

        let tl = gsap.timeline({

            scrollTrigger:{

                trigger: '.verify' ,
                start: '10' ,
                end: 'bottom center' ,
                scrub: true ,
                marker: false
            }
        })

        tl.from('.verify' ,{

            x: 10
        })


        gsap.from('.seam-search' , {

        opacity: 0 ,
        y: -150 ,
        delay: 0.5 ,
        duration: 1
})

gsap.from('.buttons' , {

opacity: 0 ,
y: -150 ,
delay: 1.0 ,
duration: 1
})

let t = new SplitType('#TExt')


gsap.from('.char' , {

    y: 20 ,
    stagger: 0.07 ,
    delay: 0.5 ,
    duration: 1
})


const lenis = new Lenis()

lenis.on('scroll', (e) => {
  console.log(e)
})

function raf(time) {
  lenis.raf(time)
  requestAnimationFrame(raf)
}

requestAnimationFrame(raf)

    </script>
</body>
</html>
